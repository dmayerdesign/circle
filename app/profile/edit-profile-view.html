<nav ng-include src="'app-bar/app-bar.html'" ng-controller="appBarController" class="main-nav navbar navbar-fixed-top"></nav>

<nav class="circle-nav edit-profile-nav col-md-8 col-md-offset-2">
	<div class="circle-nav-inner">
		<div class="c-bg-primary tile clearfix">
			<a ui-sref="main" class="inner-btn c-text back-btn c-bg-primary c-bg-accent-hover"><span><i class="fa fa-long-arrow-left"></i>Back to posts</span></a>
			<button sticky-toggle-class="active" class="inner-btn c-bg-accent-hover has-icon" ng-click="goToSection('profile-account')">
				<span><i class="fa fa-user"></i>Profile/Account</span></button>
			<button sticky-toggle-class="active" class="inner-btn c-bg-accent-hover has-icon" ng-click="goToSection('currency')">
				<span><i class="fa fa-money"></i>{{$root.currentCircle.currency.pluralName}}</span></button>
			<button sticky-toggle-class="active" class="inner-btn c-bg-accent-hover has-icon" ng-click="goToSection('achievements')">
				<span><i class="fa fa-trophy"></i>Achievements</span></button>
		</div>
	</div>
</nav>

<section class="main" id="profile-account">
	<div class="col-sm-6 col-sm-offset-3">
		<div class="edit-avatar profile-btn" ngf-select="upload($file)">
			<div ng-show="$root.user.avatar.length" class="avatar-container" style="background-image: url({{$root.user.avatar}})"></div>
		 	<div ng-hide="$root.user.avatar.length" class="avatar-container no-avatar" style="background-color: {{$root.usersById[$root.user._id].primaryColor}}"><span>{{$root.user.username.split("")[0].toUpperCase()}}</span></div>
		</div>
	</div>

	<form class="row" ng-submit="editProfile()">
		<div class="col-sm-6 col-sm-offset-3">
			<input ng-model="$root.user.name" type="text" class="line-form" placeholder="name" />
		</div>
	</form>

	<form class="row" ng-submit="editProfile()">
		<div class="col-sm-6 col-sm-offset-3">
			<input ng-model="$root.user.username" type="text" class="line-form" placeholder="username" />
		</div>
	</form>

	<form class="row" ng-submit="editProfile()">
		<div class="col-sm-6 col-sm-offset-3">
			<input ng-model="$root.user.bio" type="text" class="line-form" placeholder="bio" />
		</div>
	</form>

	<button ng-click="editProfile()" class="centered-btn c-bg-secondary c-bg-accent-hover c-text-hover">Apply</button>
</section>

<section class="main" id="currency">
	<div class="col-md-6 col-md-offset-3">
		<h3>You have {{$root.user.currency}} {{Math.abs($root.user.currency) === 1 ? $root.currentCircle.currency.singularName : $root.currentCircle.currency.pluralName}}</h3>
	</div>
</section>

<section class="main" id="achievements">
	<div class="col-md-6 col-md-offset-3">
		<h3>Your achievements</h3>
		<ul>
			<li ng-repeat="achievement in $root.user.achievements">
				{{achievement.title}}
			</li>
		</ul>
	</div>
</section>